{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Scoccer/football-summaries-master/src/store/GameProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport apiClient from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GameContext = /*#__PURE__*/createContext({\n  games: [],\n  loading: true,\n  setGames: () => {},\n  selectGameByID: () => {\n    return {};\n  },\n  filterGamesByText: () => {}\n});\n\nconst GameProvider = ({\n  children\n}) => {\n  _s();\n\n  const [games, setGames] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const selectGameByID = slug => {\n    const id = parseInt(slug);\n    return games[id];\n  };\n\n  const filterGamesByText = text => setGames(games.filter(g => g.title.includes(text)));\n\n  useEffect(() => {\n    apiClient.get(\"/\").then(({\n      data\n    }) => {\n      setGames(data);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: JSON.stringify(err, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 16\n      }, this);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(GameContext.Provider, {\n    value: {\n      games,\n      loading,\n      setGames,\n      selectGameByID,\n      filterGamesByText\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GameProvider, \"2cQCX88OnxZyMMKuL3+dr4HJtB4=\");\n\n_c = GameProvider;\nexport const withGame = Component => props => /*#__PURE__*/_jsxDEV(GameContext.Consumer, {\n  children: store => /*#__PURE__*/_jsxDEV(Component, { ...props,\n    ...store\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 17\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 60,\n  columnNumber: 3\n}, this);\nexport default GameProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameProvider\");","map":{"version":3,"sources":["/Users/macbookpro/Scoccer/football-summaries-master/src/store/GameProvider.tsx"],"names":["React","createContext","useState","useEffect","apiClient","GameContext","games","loading","setGames","selectGameByID","filterGamesByText","GameProvider","children","setLoading","slug","id","parseInt","text","filter","g","title","includes","get","then","data","catch","err","JSON","stringify","withGame","Component","props","store"],"mappings":";;;AAAA,OAAOA,KAAP,IAAoBC,aAApB,EAAmCC,QAAnC,EAA6CC,SAA7C,QAA8D,OAA9D;AAEA,OAAOC,SAAP,MAAsB,QAAtB;;AAYA,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,CAAa;AACnDK,EAAAA,KAAK,EAAE,EAD4C;AAEnDC,EAAAA,OAAO,EAAE,IAF0C;AAGnDC,EAAAA,QAAQ,EAAE,MAAM,CAAE,CAHiC;AAInDC,EAAAA,cAAc,EAAE,MAAM;AACpB,WAAO,EAAP;AACD,GANkD;AAOnDC,EAAAA,iBAAiB,EAAE,MAAM,CAAE;AAPwB,CAAb,CAAjC;;AAUP,MAAMC,YAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AACzC,QAAM,CAACN,KAAD,EAAQE,QAAR,IAAoBN,QAAQ,CAAU,EAAV,CAAlC;AACA,QAAM,CAACK,OAAD,EAAUM,UAAV,IAAwBX,QAAQ,CAAC,IAAD,CAAtC;;AAEA,QAAMO,cAAc,GAAIK,IAAD,IAAyB;AAC9C,UAAMC,EAAE,GAAGC,QAAQ,CAACF,IAAD,CAAnB;AACA,WAAOR,KAAK,CAACS,EAAD,CAAZ;AACD,GAHD;;AAKA,QAAML,iBAAiB,GAAIO,IAAD,IACxBT,QAAQ,CAACF,KAAK,CAACY,MAAN,CAAcC,CAAD,IAAOA,CAAC,CAACC,KAAF,CAAQC,QAAR,CAAiBJ,IAAjB,CAApB,CAAD,CADV;;AAGAd,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,SAAS,CACNkB,GADH,CACO,GADP,EAEGC,IAFH,CAEQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAClBhB,MAAAA,QAAQ,CAACgB,IAAD,CAAR;AACAX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALH,EAMGY,KANH,CAMUC,GAAD,IAAS;AACdb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA,0BAAO;AAAA,kBAAMc,IAAI,CAACC,SAAL,CAAeF,GAAf,EAAoB,IAApB,EAA0B,CAA1B;AAAN;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KATH;AAUD,GAXQ,EAWN,EAXM,CAAT;AAaA,sBACE,QAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AAAEpB,MAAAA,KAAF;AAASC,MAAAA,OAAT;AAAkBC,MAAAA,QAAlB;AAA4BC,MAAAA,cAA5B;AAA4CC,MAAAA;AAA5C,KADT;AAAA,cAGGE;AAHH;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CAhCD;;GAAMD,Y;;KAAAA,Y;AAkCN,OAAO,MAAMkB,QAAQ,GAAIC,SAAD,IAAqBC,KAAD,iBAC1C,QAAC,WAAD,CAAa,QAAb;AAAA,YACIC,KAAD,iBAAW,QAAC,SAAD,OAAeD,KAAf;AAAA,OAA0BC;AAA1B;AAAA;AAAA;AAAA;AAAA;AADd;AAAA;AAAA;AAAA;AAAA,QADK;AAMP,eAAerB,YAAf","sourcesContent":["import React, { FC, createContext, useState, useEffect } from \"react\";\n\nimport apiClient from \"../api\";\n\nimport IGame from \"../types/Game\";\n\nexport interface IGameState {\n  games: IGame[];\n  loading: boolean;\n  setGames: React.Dispatch<React.SetStateAction<IGame[]>>;\n  selectGameByID: (slug: string) => IGame;\n  filterGamesByText: (text: string) => void;\n}\n\nexport const GameContext = createContext<IGameState>({\n  games: [],\n  loading: true,\n  setGames: () => {},\n  selectGameByID: () => {\n    return {} as IGame;\n  },\n  filterGamesByText: () => {},\n});\n\nconst GameProvider: FC = ({ children }) => {\n  const [games, setGames] = useState<IGame[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const selectGameByID = (slug: string): IGame => {\n    const id = parseInt(slug);\n    return games[id];\n  };\n\n  const filterGamesByText = (text: string): void =>\n    setGames(games.filter((g) => g.title.includes(text)));\n\n  useEffect(() => {\n    apiClient\n      .get(\"/\")\n      .then(({ data }) => {\n        setGames(data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        return <div>{JSON.stringify(err, null, 2)}</div>;\n      });\n  }, []);\n\n  return (\n    <GameContext.Provider\n      value={{ games, loading, setGames, selectGameByID, filterGamesByText }}\n    >\n      {children}\n    </GameContext.Provider>\n  );\n};\n\nexport const withGame = (Component: any) => (props: any) => (\n  <GameContext.Consumer>\n    {(store) => <Component {...props} {...store} />}\n  </GameContext.Consumer>\n);\n\nexport default GameProvider;\n"]},"metadata":{},"sourceType":"module"}